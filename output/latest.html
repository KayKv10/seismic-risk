<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seismic Risk Assessment</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont,
                'Segoe UI', Roboto, sans-serif;
        }
        #map { height: 100vh; width: 100%; }
        .airport-marker {
            background: none !important;
            border: none !important;
        }
        .airport-selected {
            filter: drop-shadow(0 0 6px rgba(0,100,255,0.8));
        }
        .sidebar {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            max-width: 320px;
        }
        .sidebar h3 { margin-bottom: 10px; color: #333; }
        .sidebar p { margin: 5px 0; color: #666; font-size: 14px; }
        .sidebar .stat { font-weight: bold; color: #333; }
        .top-airports {
            margin-top: 12px;
            border-top: 1px solid #eee;
            padding-top: 8px;
        }
        .top-airports h4 {
            font-size: 13px;
            color: #333;
            margin-bottom: 6px;
        }
        .top-airport-item {
            display: flex;
            align-items: center;
            font-size: 12px;
            padding: 3px 0;
            border-bottom: 1px solid #f5f5f5;
        }
        .top-airport-item .rank {
            color: #999;
            width: 18px;
            flex-shrink: 0;
        }
        .top-airport-item .iata {
            font-weight: bold;
            color: #333;
            width: 36px;
            flex-shrink: 0;
        }
        .top-airport-item .ap-name {
            flex: 1;
            color: #666;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin: 0 6px;
        }
        .top-airport-item .score {
            font-weight: bold;
            color: #dc3545;
            flex-shrink: 0;
        }
        .legend {
            position: absolute;
            bottom: 30px;
            left: 10px;
            z-index: 1000;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            max-width: 200px;
        }
        .legend h4 {
            margin-bottom: 8px;
            font-size: 13px;
            color: #333;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 4px 0;
            font-size: 12px;
        }
        .legend-diamond {
            flex-shrink: 0;
            margin-right: 8px;
        }
        .gradient-bar {
            width: 100%;
            height: 12px;
            border-radius: 3px;
            margin: 4px 0;
        }
        .gradient-labels {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            color: #888;
        }
        .legend-note {
            font-size: 10px;
            color: #999;
            margin-top: 8px;
            line-height: 1.4;
        }
        .leaflet-popup-content { min-width: 200px; }
        .popup-title {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .popup-row {
            font-size: 12px;
            margin: 3px 0;
            color: #555;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="sidebar">
        <h3>Seismic Risk Assessment</h3>
        <p>Countries: <span class="stat" id="country-count">0</span></p>
        <p>Exposed airports:
            <span class="stat" id="airport-count">0</span></p>
        <p>Earthquakes:
            <span class="stat" id="quake-count">0</span></p>
        <div class="top-airports">
            <h4>Top 5 Most Exposed</h4>
            <div id="top-airports-list"></div>
        </div>
        <p style="margin-top: 10px; font-size: 11px; color: #999;">
            Generated: 2026-02-06 07:39 UTC
        </p>
    </div>
    <div class="legend">
        <h4>Airport Exposure</h4>
        <div class="gradient-bar"
             style="background: linear-gradient(to right,
                 #28a745, #ffc107, #dc3545);">
        </div>
        <div class="gradient-labels">
            <span>Low</span><span>High</span>
        </div>

        <h4 style="margin-top: 10px;">Airport Size</h4>
        <div class="legend-item">
            <div class="legend-diamond">
                <svg width="14" height="14">
                    <polygon points="7,0 14,7 7,14 0,7"
                        fill="#888" stroke="#333"
                        stroke-width="1"/></svg>
            </div>
            &gt;300K movements/yr
        </div>
        <div class="legend-item">
            <div class="legend-diamond">
                <svg width="10" height="10">
                    <polygon points="5,0 10,5 5,10 0,5"
                        fill="#888" stroke="#333"
                        stroke-width="1"/></svg>
            </div>
            100-300K movements/yr
        </div>
        <div class="legend-item">
            <div class="legend-diamond">
                <svg width="7" height="7">
                    <polygon points="3.5,0 7,3.5 3.5,7 0,3.5"
                        fill="#888" stroke="#333"
                        stroke-width="1"/></svg>
            </div>
            &lt;100K movements/yr
        </div>

        <h4 style="margin-top: 10px;">Earthquake Shaking</h4>
        <div class="legend-item">
            <div style="width: 14px; height: 14px; border-radius: 50%;
                 background: rgb(251,191,36); opacity: 0.4;
                 margin-right: 8px; flex-shrink: 0;"></div>
            M3-4 (small area)
        </div>
        <div class="legend-item">
            <div style="width: 14px; height: 14px; border-radius: 50%;
                 background: rgb(245,158,11); opacity: 0.6;
                 margin-right: 8px; flex-shrink: 0;"></div>
            M5-6 (medium area)
        </div>
        <div class="legend-item">
            <div style="width: 14px; height: 14px; border-radius: 50%;
                 background: rgb(185,28,28); opacity: 0.8;
                 margin-right: 8px; flex-shrink: 0;"></div>
            M7+ (large area)
        </div>
        <div style="font-size: 10px; color: #999; margin-top: 4px;">
            Circle = estimated MMI V felt area
        </div>

        <p class="legend-note">
            Circle radius shows estimated area of strong
            shaking (MMI V). Click an airport to highlight
            its nearby quakes.
            Use layer controls (top-left) to toggle layers.
        </p>
    </div>

    <script>
        var data = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [125.646004, 7.12552]}, "properties": {"feature_type": "airport", "name": "Francisco Bangoy International Airport", "iata_code": "DVO", "municipality": "Davao", "country": "Philippines", "iso_alpha3": "PHL", "closest_quake_km": 136, "exposure_score": 16.96, "nearby_quake_count": 3, "country_risk_score": 90.95, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.646004, 7.12552], [126.8585, 7.3624]]}, "properties": {"feature_type": "connection", "airport_iata": "DVO", "earthquake_id": "us7000rn2z", "distance_km": 136.3, "exposure_contribution": 11.54}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.646004, 7.12552], [126.9013, 7.2164]]}, "properties": {"feature_type": "connection", "airport_iata": "DVO", "earthquake_id": "us7000rn4a", "distance_km": 138.9, "exposure_contribution": 3.58}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.646004, 7.12552], [124.0105, 6.5177]]}, "properties": {"feature_type": "connection", "airport_iata": "DVO", "earthquake_id": "us6000s4yq", "distance_km": 192.8, "exposure_contribution": 1.83}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [125.096243, 6.057208]}, "properties": {"feature_type": "airport", "name": "General Santos International Airport", "iata_code": "GES", "municipality": "General Santos", "country": "Philippines", "iso_alpha3": "PHL", "closest_quake_km": 130, "exposure_score": 43.67, "nearby_quake_count": 15, "country_risk_score": 90.95, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [124.0105, 6.5177]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4yq", "distance_km": 130.5, "exposure_contribution": 2.7}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.9335, 6.5071]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4x4", "distance_km": 137.9, "exposure_contribution": 2.55}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.8572, 6.4915]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s5d3", "distance_km": 145.2, "exposure_contribution": 2.43}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.8277, 6.3984]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4xy", "distance_km": 145.3, "exposure_contribution": 2.43}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7705, 6.3469]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us7000rr0l", "distance_km": 150.1, "exposure_contribution": 3.32}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7916, 6.4359]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4rf", "distance_km": 150.2, "exposure_contribution": 2.95}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7621, 6.3239]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s543", "distance_km": 150.4, "exposure_contribution": 2.09}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7821, 6.4204]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4xz", "distance_km": 150.8, "exposure_contribution": 5.87}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7579, 6.3871]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us7000rqmd", "distance_km": 152.4, "exposure_contribution": 2.91}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7758, 6.5558]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4uf", "distance_km": 156.1, "exposure_contribution": 2.26}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7338, 6.4453]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4yl", "distance_km": 156.7, "exposure_contribution": 3.18}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7553, 6.5145]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4qp", "distance_km": 156.7, "exposure_contribution": 2.25}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.7029, 6.4245]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s51a", "distance_km": 159.3, "exposure_contribution": 2.21}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.6582, 6.3989]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4ws", "distance_km": 163.4, "exposure_contribution": 2.72}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[125.096243, 6.057208], [123.6966, 6.5738]]}, "properties": {"feature_type": "connection", "airport_iata": "GES", "earthquake_id": "us6000s4yn", "distance_km": 165.0, "exposure_contribution": 3.8}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [124.456496, 8.612203]}, "properties": {"feature_type": "airport", "name": "Laguindingan International Airport", "iata_code": "CGY", "municipality": "Laguindingan", "country": "Philippines", "iso_alpha3": "PHL", "closest_quake_km": 190, "exposure_score": 1.65, "nearby_quake_count": 1, "country_risk_score": 90.95, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[124.456496, 8.612203], [125.592, 9.9051]]}, "properties": {"feature_type": "connection", "airport_iata": "CGY", "earthquake_id": "us6000s6q8", "distance_km": 190.3, "exposure_contribution": 1.65}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [122.059998, 6.92242]}, "properties": {"feature_type": "airport", "name": "Zamboanga International Airport", "iata_code": "ZAM", "municipality": "Zamboanga", "country": "Philippines", "iso_alpha3": "PHL", "closest_quake_km": 185, "exposure_score": 26.94, "nearby_quake_count": 11, "country_risk_score": 90.95, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.6966, 6.5738]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4yn", "distance_km": 184.8, "exposure_contribution": 3.4}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.6582, 6.3989]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4ws", "distance_km": 185.9, "exposure_contribution": 2.39}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7029, 6.4245]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s51a", "distance_km": 189.7, "exposure_contribution": 1.86}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7338, 6.4453]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4yl", "distance_km": 192.3, "exposure_contribution": 2.59}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7553, 6.5145]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4qp", "distance_km": 192.6, "exposure_contribution": 1.83}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7758, 6.5558]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4uf", "distance_km": 193.8, "exposure_contribution": 1.82}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7579, 6.3871]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us7000rqmd", "distance_km": 196.7, "exposure_contribution": 2.26}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7821, 6.4204]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4xz", "distance_km": 198.2, "exposure_contribution": 4.47}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7916, 6.4359]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s4rf", "distance_km": 198.7, "exposure_contribution": 2.24}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7621, 6.3239]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us6000s543", "distance_km": 199.4, "exposure_contribution": 1.58}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[122.059998, 6.92242], [123.7705, 6.3469]]}, "properties": {"feature_type": "connection", "airport_iata": "ZAM", "earthquake_id": "us7000rr0l", "distance_km": 199.5, "exposure_contribution": 2.5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.97974, 10.309261]}, "properties": {"feature_type": "airport", "name": "Mactan Cebu International Airport", "iata_code": "CEB", "municipality": "Cebu City/Lapu-Lapu City", "country": "Philippines", "iso_alpha3": "PHL", "closest_quake_km": 182, "exposure_score": 1.73, "nearby_quake_count": 1, "country_risk_score": 90.95, "pager_alert": null, "aircraft_movements_k": 100.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[123.97974, 10.309261], [125.592, 9.9051]]}, "properties": {"feature_type": "connection", "airport_iata": "CEB", "earthquake_id": "us6000s6q8", "distance_km": 182.1, "exposure_contribution": 1.73}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [125.592, 9.9051]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6q8", "magnitude": 5, "depth_km": 152.224, "felt_radius_km": 5.0, "date": "2026-02-05", "place": "5 km S of Dinagat, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.8572, 6.4915]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5d3", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-30", "place": "20 km WSW of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7621, 6.3239]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s543", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-28", "place": "33 km WSW of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7029, 6.4245]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s51a", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-28", "place": "37 km W of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [124.0105, 6.5177]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yq", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-28", "place": "3 km SW of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.6966, 6.5738]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yn", "magnitude": 5.6, "depth_km": 10, "felt_radius_km": 60.1, "date": "2026-01-28", "place": "37 km W of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7338, 6.4453]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yl", "magnitude": 5.4, "depth_km": 10, "felt_radius_km": 50.1, "date": "2026-01-28", "place": "34 km W of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7821, 6.4204]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4xz", "magnitude": 5.9, "depth_km": 10, "felt_radius_km": 78.5, "date": "2026-01-28", "place": "29 km W of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.8277, 6.3984]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4xy", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-28", "place": "24 km WSW of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.9335, 6.5071]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4x4", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-28", "place": "11 km WSW of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.6582, 6.3989]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4ws", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-01-28", "place": "43 km W of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7758, 6.5558]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4uf", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-27", "place": "28 km W of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7916, 6.4359]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4rf", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-01-27", "place": "27 km W of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7553, 6.5145]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4qp", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-27", "place": "30 km W of Bantogon, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7705, 6.3469]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rr0l", "magnitude": 5.4, "depth_km": 8.755, "felt_radius_km": 50.3, "date": "2026-01-21", "place": "32 km WSW of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [123.7579, 6.3871]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqmd", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-01-19", "place": "32 km WSW of Sangay, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.9013, 7.2164]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rn4a", "magnitude": 5.4, "depth_km": 37.45, "felt_radius_km": 34.8, "date": "2026-01-07", "place": "37 km ESE of Santiago, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.8585, 7.3624]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rn2z", "magnitude": 6.4, "depth_km": 22, "felt_radius_km": 119.0, "date": "2026-01-07", "place": "31 km ESE of Baculin, Philippines", "country": "Philippines"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [111.947222, -7.750278]}, "properties": {"feature_type": "airport", "name": "Dhoho International Airport", "iata_code": "DHX", "municipality": "Kediri", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 70, "exposure_score": 15.64, "nearby_quake_count": 2, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[111.947222, -7.750278], [111.3773, -8.0239]]}, "properties": {"feature_type": "connection", "airport_iata": "DHX", "earthquake_id": "us6000s4mj", "distance_km": 69.8, "exposure_contribution": 10.01}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[111.947222, -7.750278], [111.2264, -8.7865]]}, "properties": {"feature_type": "connection", "airport_iata": "DHX", "earthquake_id": "us6000s6ne", "distance_km": 139.9, "exposure_contribution": 5.64}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.519857, -2.579627]}, "properties": {"feature_type": "airport", "name": "Dortheys Hiyo Eluay International Airport", "iata_code": "DJJ", "municipality": "Sentani", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 190, "exposure_score": 1.65, "nearby_quake_count": 1, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.519857, -2.579627], [138.8285, -2.3049]]}, "properties": {"feature_type": "connection", "airport_iata": "DJJ", "earthquake_id": "us7000rqe0", "distance_km": 190.4, "exposure_contribution": 1.65}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [124.92625, 1.548591]}, "properties": {"feature_type": "airport", "name": "Sam Ratulangi International Airport", "iata_code": "MDC", "municipality": "Manado", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 115, "exposure_score": 4.78, "nearby_quake_count": 2, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[124.92625, 1.548591], [125.2815, 0.5812]]}, "properties": {"feature_type": "connection", "airport_iata": "MDC", "earthquake_id": "us7000rqdm", "distance_km": 114.6, "exposure_contribution": 2.74}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[124.92625, 1.548591], [126.2359, 1.107]]}, "properties": {"feature_type": "connection", "airport_iata": "MDC", "earthquake_id": "us7000rph2", "distance_km": 153.6, "exposure_contribution": 2.04}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [128.089005, -3.71026]}, "properties": {"feature_type": "airport", "name": "Pattimura International Airport", "iata_code": "AMQ", "municipality": "Ambon", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 77, "exposure_score": 4.54, "nearby_quake_count": 1, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[128.089005, -3.71026], [128.6818, -3.3473]]}, "properties": {"feature_type": "connection", "airport_iata": "AMQ", "earthquake_id": "us7000rq86", "distance_km": 77.2, "exposure_contribution": 4.54}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [110.431999, -7.78818]}, "properties": {"feature_type": "airport", "name": "Adisutjipto International Airport", "iata_code": "JOG", "municipality": "Yogyakarta", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 107, "exposure_score": 12.12, "nearby_quake_count": 2, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[110.431999, -7.78818], [111.3773, -8.0239]]}, "properties": {"feature_type": "connection", "airport_iata": "JOG", "earthquake_id": "us6000s4mj", "distance_km": 107.4, "exposure_contribution": 6.53}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[110.431999, -7.78818], [111.2264, -8.7865]]}, "properties": {"feature_type": "connection", "airport_iata": "JOG", "earthquake_id": "us6000s6ne", "distance_km": 141.3, "exposure_contribution": 5.58}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [112.787003, -7.37983]}, "properties": {"feature_type": "airport", "name": "Juanda International Airport", "iata_code": "SUB", "municipality": "Surabaya", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 171, "exposure_score": 4.11, "nearby_quake_count": 1, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[112.787003, -7.37983], [111.3773, -8.0239]]}, "properties": {"feature_type": "connection", "airport_iata": "SUB", "earthquake_id": "us6000s4mj", "distance_km": 171.1, "exposure_contribution": 4.11}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [110.373244, -6.970732]}, "properties": {"feature_type": "airport", "name": "Jenderal Ahmad Yani Airport", "iata_code": "SRG", "municipality": "Semarang", "country": "Indonesia", "iso_alpha3": "IDN", "closest_quake_km": 161, "exposure_score": 4.37, "nearby_quake_count": 1, "country_risk_score": 47.21, "pager_alert": "green", "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[110.373244, -6.970732], [111.3773, -8.0239]]}, "properties": {"feature_type": "connection", "airport_iata": "SRG", "earthquake_id": "us6000s4mj", "distance_km": 161.1, "exposure_contribution": 4.37}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [111.2264, -8.7865]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6ne", "magnitude": 5.8, "depth_km": 40, "felt_radius_km": 60.6, "date": "2026-02-05", "place": "94 km SW of Trenggalek, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [132.0522, -6.8285]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6b3", "magnitude": 5.1, "depth_km": 11.096, "felt_radius_km": 37.5, "date": "2026-02-04", "place": "153 km SSW of Tual, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [129.9107, -6.6119]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s62k", "magnitude": 5.2, "depth_km": 141.538, "felt_radius_km": 5.0, "date": "2026-02-03", "place": "Banda Sea", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [124.5425, -0.2236]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5d8", "magnitude": 5, "depth_km": 83.327, "felt_radius_km": 5.0, "date": "2026-01-30", "place": "75 km S of Modisi, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [118.3602, -8.6624]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s52m", "magnitude": 5.1, "depth_km": 130.827, "felt_radius_km": 5.0, "date": "2026-01-28", "place": "17 km SW of Dompu, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [130.3097, -7.3049]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s51i", "magnitude": 5, "depth_km": 29.089, "felt_radius_km": 20.8, "date": "2026-01-28", "place": "Pulau Pulau Tanimbar, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [111.3773, -8.0239]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4mj", "magnitude": 5.7, "depth_km": 127, "felt_radius_km": 5.0, "date": "2026-01-27", "place": "19 km SSW of Ponorogo, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [130.5569, -6.2073]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrx3", "magnitude": 5.1, "depth_km": 125.127, "felt_radius_km": 5.0, "date": "2026-01-25", "place": "251 km WSW of Tual, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [122.6592, -0.1991]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rr7x", "magnitude": 5.1, "depth_km": 92.624, "felt_radius_km": 5.0, "date": "2026-01-21", "place": "84 km N of Luwuk, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [102.1725, -2.6159]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqjg", "magnitude": 5, "depth_km": 168.23, "felt_radius_km": 5.0, "date": "2026-01-19", "place": "102 km NNW of Curup, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [138.8285, -2.3049]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqe0", "magnitude": 5, "depth_km": 30.9, "felt_radius_km": 18.0, "date": "2026-01-18", "place": "203 km W of Abepura, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [125.2815, 0.5812]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqdm", "magnitude": 5, "depth_km": 63.203, "felt_radius_km": 5.0, "date": "2026-01-18", "place": "89 km SSE of Tondano, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [128.6818, -3.3473]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq86", "magnitude": 5.1, "depth_km": 68.695, "felt_radius_km": 5.0, "date": "2026-01-16", "place": "26 km W of Amahai, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.2359, 1.107]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rph2", "magnitude": 5, "depth_km": 45.645, "felt_radius_km": 5.0, "date": "2026-01-13", "place": "128 km ESE of Bitung, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.5209, 2.8493]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpaw", "magnitude": 5.2, "depth_km": 52.11, "felt_radius_km": 5.0, "date": "2026-01-13", "place": "206 km NW of Tobelo, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [127.0133, 3.6772]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnx4", "magnitude": 5.2, "depth_km": 45.122, "felt_radius_km": 5.0, "date": "2026-01-10", "place": "242 km NNW of Tobelo, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.9375, 3.6285]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s52c", "magnitude": 5.5, "depth_km": 57.236, "felt_radius_km": 5.0, "date": "2026-01-10", "place": "241 km NNW of Tobelo, Indonesia", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [126.9922, 3.7768]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnwd", "magnitude": 6.4, "depth_km": 31, "felt_radius_km": 117.0, "date": "2026-01-10", "place": "247 km SE of Sarangani, Philippines", "country": "Indonesia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.388714, 35.76858]}, "properties": {"feature_type": "airport", "name": "Narita International Airport", "iata_code": "NRT", "municipality": "Narita", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 123, "exposure_score": 2.54, "nearby_quake_count": 1, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 250.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.388714, 35.76858], [140.9958, 36.7639]]}, "properties": {"feature_type": "connection", "airport_iata": "NRT", "earthquake_id": "us6000s63e", "distance_km": 123.3, "exposure_contribution": 2.54}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [141.690414, 42.774753]}, "properties": {"feature_type": "airport", "name": "New Chitose Airport", "iata_code": "CTS", "municipality": "Sapporo", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 152, "exposure_score": 7.68, "nearby_quake_count": 3, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[141.690414, 42.774753], [141.9872, 41.4231]]}, "properties": {"feature_type": "connection", "airport_iata": "CTS", "earthquake_id": "us7000rqwc", "distance_km": 152.3, "exposure_contribution": 2.91}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[141.690414, 42.774753], [142.595, 41.2871]]}, "properties": {"feature_type": "connection", "airport_iata": "CTS", "earthquake_id": "us7000rq7c", "distance_km": 181.5, "exposure_contribution": 2.45}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[141.690414, 42.774753], [142.3766, 41.1319]]}, "properties": {"feature_type": "connection", "airport_iata": "CTS", "earthquake_id": "us7000rrc5", "distance_km": 191.3, "exposure_contribution": 2.32}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.822006, 41.77]}, "properties": {"feature_type": "airport", "name": "Hakodate Airport", "iata_code": "HKD", "municipality": "Hakodate", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 104, "exposure_score": 11.74, "nearby_quake_count": 4, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.822006, 41.77], [141.9872, 41.4231]]}, "properties": {"feature_type": "connection", "airport_iata": "HKD", "earthquake_id": "us7000rqwc", "distance_km": 104.3, "exposure_contribution": 4.24}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.822006, 41.77], [142.3766, 41.1319]]}, "properties": {"feature_type": "connection", "airport_iata": "HKD", "earthquake_id": "us7000rrc5", "distance_km": 147.7, "exposure_contribution": 3.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.822006, 41.77], [142.595, 41.2871]]}, "properties": {"feature_type": "connection", "airport_iata": "HKD", "earthquake_id": "us7000rq7c", "distance_km": 157.1, "exposure_contribution": 2.83}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.822006, 41.77], [142.8004, 40.9527]]}, "properties": {"feature_type": "connection", "airport_iata": "HKD", "earthquake_id": "us6000s675", "distance_km": 188.5, "exposure_contribution": 1.67}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [136.804993, 34.858398]}, "properties": {"feature_type": "airport", "name": "Chubu Centrair International Airport", "iata_code": "NGO", "municipality": "Tokoname", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 170, "exposure_score": 2.08, "nearby_quake_count": 1, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[136.804993, 34.858398], [137.7938, 36.1555]]}, "properties": {"feature_type": "connection", "airport_iata": "NGO", "earthquake_id": "us7000rps1", "distance_km": 169.7, "exposure_contribution": 2.08}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [136.406895, 36.393407]}, "properties": {"feature_type": "airport", "name": "Komatsu Airport / JASDF Komatsu Air Base", "iata_code": "KMQ", "municipality": "Kanazawa", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 127, "exposure_score": 2.77, "nearby_quake_count": 1, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[136.406895, 36.393407], [137.7938, 36.1555]]}, "properties": {"feature_type": "connection", "airport_iata": "KMQ", "earthquake_id": "us7000rps1", "distance_km": 127.1, "exposure_contribution": 2.77}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [138.190976, 34.795022]}, "properties": {"feature_type": "airport", "name": "Mount Fuji Shizuoka Airport", "iata_code": "FSZ", "municipality": "Makinohara / Shimada", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 155, "exposure_score": 2.27, "nearby_quake_count": 1, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[138.190976, 34.795022], [137.7938, 36.1555]]}, "properties": {"feature_type": "connection", "airport_iata": "FSZ", "earthquake_id": "us7000rps1", "distance_km": 155.5, "exposure_contribution": 2.27}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.689477, 40.733777]}, "properties": {"feature_type": "airport", "name": "Aomori Airport", "iata_code": "AOJ", "municipality": "Aomori", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 133, "exposure_score": 10.67, "nearby_quake_count": 4, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.689477, 40.733777], [141.9872, 41.4231]]}, "properties": {"feature_type": "connection", "airport_iata": "AOJ", "earthquake_id": "us7000rqwc", "distance_km": 133.1, "exposure_contribution": 3.33}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.689477, 40.733777], [142.3766, 41.1319]]}, "properties": {"feature_type": "connection", "airport_iata": "AOJ", "earthquake_id": "us7000rrc5", "distance_km": 148.5, "exposure_contribution": 2.99}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.689477, 40.733777], [142.595, 41.2871]]}, "properties": {"feature_type": "connection", "airport_iata": "AOJ", "earthquake_id": "us7000rq7c", "distance_km": 171.3, "exposure_contribution": 2.59}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.689477, 40.733777], [142.8004, 40.9527]]}, "properties": {"feature_type": "connection", "airport_iata": "AOJ", "earthquake_id": "us6000s675", "distance_km": 179.2, "exposure_contribution": 1.75}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.917007, 38.139702]}, "properties": {"feature_type": "airport", "name": "Sendai Airport", "iata_code": "SDJ", "municipality": "Natori", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 153, "exposure_score": 2.05, "nearby_quake_count": 1, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[140.917007, 38.139702], [140.9958, 36.7639]]}, "properties": {"feature_type": "connection", "airport_iata": "SDJ", "earthquake_id": "us6000s63e", "distance_km": 153.1, "exposure_contribution": 2.05}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [139.786958, 35.549678]}, "properties": {"feature_type": "airport", "name": "Tokyo Haneda International Airport", "iata_code": "HND", "municipality": "Tokyo", "country": "Japan", "iso_alpha3": "JPN", "closest_quake_km": 173, "exposure_score": 3.65, "nearby_quake_count": 2, "country_risk_score": 45.45, "pager_alert": null, "aircraft_movements_k": 480.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[139.786958, 35.549678], [140.9958, 36.7639]]}, "properties": {"feature_type": "connection", "airport_iata": "HND", "earthquake_id": "us6000s63e", "distance_km": 173.2, "exposure_contribution": 1.82}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[139.786958, 35.549678], [137.7938, 36.1555]]}, "properties": {"feature_type": "connection", "airport_iata": "HND", "earthquake_id": "us7000rps1", "distance_km": 191.8, "exposure_contribution": 1.84}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [130.3853, 29.1074]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6gs", "magnitude": 5.5, "depth_km": 21.435, "felt_radius_km": 51.5, "date": "2026-02-04", "place": "105 km NE of Tatsug\u014d, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [140.9958, 36.7639]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s63e", "magnitude": 5, "depth_km": 59.65, "felt_radius_km": 5.0, "date": "2026-02-03", "place": "22 km E of Kitaibaraki, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [143.0649, 40.2264]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4z6", "magnitude": 5.1, "depth_km": 13.399, "felt_radius_km": 36.8, "date": "2026-01-28", "place": "107 km E of Noda, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [146.2682, 42.9163]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4n9", "magnitude": 5, "depth_km": 34.218, "felt_radius_km": 10.4, "date": "2026-01-27", "place": "72 km SE of Nemuro, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [139.9252, 27.6907]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrx6", "magnitude": 5, "depth_km": 490.378, "felt_radius_km": 5.0, "date": "2026-01-25", "place": "Bonin Islands, Japan region", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [142.3766, 41.1319]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrc5", "magnitude": 5.3, "depth_km": 55.473, "felt_radius_km": 5.0, "date": "2026-01-22", "place": "94 km E of Yokohama, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [141.9872, 41.4231]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqwc", "magnitude": 5.3, "depth_km": 62.109, "felt_radius_km": 5.0, "date": "2026-01-20", "place": "66 km ENE of Mutsu, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [122.5068, 23.9423]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq95", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-17", "place": "76 km SW of Yonakuni, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [142.2037, 29.971]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq8a", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-17", "place": "Izu Islands, Japan region", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [142.8004, 40.9527]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s675", "magnitude": 5, "depth_km": 52.668, "felt_radius_km": 5.0, "date": "2026-01-16", "place": "120 km ENE of Hachinohe, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [142.595, 41.2871]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq7c", "magnitude": 5.3, "depth_km": 37.4, "felt_radius_km": 28.1, "date": "2026-01-16", "place": "97 km SSW of Honch\u014d, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [137.7938, 36.1555]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rps1", "magnitude": 5.1, "depth_km": 6.739, "felt_radius_km": 38.5, "date": "2026-01-15", "place": "16 km WNW of Shiojiri, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [145.5068, 42.7287]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpq8", "magnitude": 5.5, "depth_km": 30, "felt_radius_km": 47.1, "date": "2026-01-14", "place": "63 km ESE of Akkeshi, Japan", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [149.2744, 44.5699]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpcg", "magnitude": 6.2, "depth_km": 50.906, "felt_radius_km": 88.7, "date": "2026-01-13", "place": "132 km SE of Kuril\u2019sk, Russia", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [147.3686, 47.5903]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rp3w", "magnitude": 5.6, "depth_km": 396, "felt_radius_km": 5.0, "date": "2026-01-12", "place": "265 km N of Kuril\u2019sk, Russia", "country": "Japan"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-175.149164, -21.241438]}, "properties": {"feature_type": "airport", "name": "Fua'amotu International Airport", "iata_code": "TBU", "municipality": "Nuku'alofa", "country": "Tonga", "iso_alpha3": "TON", "closest_quake_km": 73, "exposure_score": 25.35, "nearby_quake_count": 5, "country_risk_score": 25.35, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[-175.149164, -21.241438], [-174.6513, -21.7021]]}, "properties": {"feature_type": "connection", "airport_iata": "TBU", "earthquake_id": "us7000rs4b", "distance_km": 72.6, "exposure_contribution": 4.82}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[-175.149164, -21.241438], [-174.7478, -21.906]]}, "properties": {"feature_type": "connection", "airport_iata": "TBU", "earthquake_id": "us7000rs3s", "distance_km": 84.8, "exposure_contribution": 4.64}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[-175.149164, -21.241438], [-174.917, -22.0106]]}, "properties": {"feature_type": "connection", "airport_iata": "TBU", "earthquake_id": "us7000rs1z", "distance_km": 88.8, "exposure_contribution": 5.58}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[-175.149164, -21.241438], [-174.1337, -21.019]]}, "properties": {"feature_type": "connection", "airport_iata": "TBU", "earthquake_id": "us6000s5s7", "distance_km": 108.2, "exposure_contribution": 7.27}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[-175.149164, -21.241438], [-174.436, -22.3776]]}, "properties": {"feature_type": "connection", "airport_iata": "TBU", "earthquake_id": "us7000rqf7", "distance_km": 146.2, "exposure_contribution": 3.03}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-178.5952, -29.5951]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6cx", "magnitude": 6.1, "depth_km": 184.162, "felt_radius_km": 5.0, "date": "2026-02-04", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-176.2788, -26.9354]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6bf", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-02-04", "place": "south of the Fiji Islands", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-173.0865, -15.3423]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s694", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-02-03", "place": "101 km NE of Hihifo, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-174.1337, -21.019]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5s7", "magnitude": 5.8, "depth_km": 12, "felt_radius_km": 71.6, "date": "2026-01-31", "place": "92 km ENE of \u2018Ohonua, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-176.7306, -28.7586]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5h4", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-30", "place": "Kermadec Islands region", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.0123, -29.439]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5de", "magnitude": 5.2, "depth_km": 35, "felt_radius_km": 24.6, "date": "2026-01-30", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.1998, -29.2712]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4m2", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-01-26", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.069, -29.5533]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4iv", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-01-26", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-174.6513, -21.7021]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs4b", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-26", "place": "50 km SE of \u2018Ohonua, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.2429, -29.4953]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs3x", "magnitude": 5.4, "depth_km": 14.061, "felt_radius_km": 49.1, "date": "2026-01-26", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-174.7478, -21.906]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs3s", "magnitude": 5.2, "depth_km": 35, "felt_radius_km": 24.6, "date": "2026-01-26", "place": "66 km SSE of \u2018Ohonua, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-174.917, -22.0106]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs1z", "magnitude": 5.4, "depth_km": 10, "felt_radius_km": 50.1, "date": "2026-01-26", "place": "74 km S of \u2018Ohonua, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-178.7583, -21.0722]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrsg", "magnitude": 5, "depth_km": 587.326, "felt_radius_km": 5.0, "date": "2026-01-24", "place": "Fiji region", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-173.2153, -15.0334]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqqz", "magnitude": 5.1, "depth_km": 102.942, "felt_radius_km": 5.0, "date": "2026-01-20", "place": "119 km NNE of Hihifo, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-173.7599, -16.223]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqit", "magnitude": 5.1, "depth_km": 94.191, "felt_radius_km": 5.0, "date": "2026-01-19", "place": "29 km S of Hihifo, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-174.436, -22.3776]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqf7", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-01-18", "place": "126 km SSE of \u2018Ohonua, Tonga", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-178.2765, -30.4272]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq8y", "magnitude": 5.2, "depth_km": 57.768, "felt_radius_km": 5.0, "date": "2026-01-17", "place": "Kermadec Islands, New Zealand", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.5712, -26.2752]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnsx", "magnitude": 5.6, "depth_km": 145.989, "felt_radius_km": 5.0, "date": "2026-01-10", "place": "south of the Fiji Islands", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-177.9967, -31.2776]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnmg", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-09", "place": "Kermadec Islands region", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [-179.921, -23.4215]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnbi", "magnitude": 5.5, "depth_km": 538.866, "felt_radius_km": 5.0, "date": "2026-01-07", "place": "south of the Fiji Islands", "country": "Tonga"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [158.451068, 53.168716]}, "properties": {"feature_type": "airport", "name": "Yelizovo Airport", "iata_code": "PKC", "municipality": "Petropavlovsk-Kamchatsky", "country": "Russia", "iso_alpha3": "RUS", "closest_quake_km": 155, "exposure_score": 22.5, "nearby_quake_count": 8, "country_risk_score": 22.5, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [158.5523, 51.7794]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rrbj", "distance_km": 154.6, "exposure_contribution": 8.09}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [158.534, 51.6273]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rnxj", "distance_km": 171.5, "exposure_contribution": 1.83}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [161.0619, 52.8269]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rnvf", "distance_km": 178.8, "exposure_contribution": 2.21}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [161.08, 52.8128]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rnuu", "distance_km": 180.3, "exposure_contribution": 2.46}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [160.877, 52.391]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rq9h", "distance_km": 184.7, "exposure_contribution": 2.41}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [161.2045, 53.5538]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rpnf", "distance_km": 187.6, "exposure_contribution": 1.68}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [160.1363, 51.7668]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us7000rs3j", "distance_km": 193.2, "exposure_contribution": 1.83}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[158.451068, 53.168716], [159.177, 51.4364]]}, "properties": {"feature_type": "connection", "airport_iata": "PKC", "earthquake_id": "us6000s4yu", "distance_km": 198.8, "exposure_contribution": 1.99}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [161.6441, 56.1712]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s628", "magnitude": 5, "depth_km": 72.245, "felt_radius_km": 5.0, "date": "2026-02-03", "place": "52 km W of Ust\u2019-Kamchatsk Staryy, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [159.177, 51.4364]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yu", "magnitude": 5.2, "depth_km": 37.58, "felt_radius_km": 20.4, "date": "2026-01-28", "place": "174 km SSE of Vilyuchinsk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [160.0786, 51.6656]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yk", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-28", "place": "181 km SE of Vilyuchinsk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [159.3213, 51.3609]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4yg", "magnitude": 5, "depth_km": 35, "felt_radius_km": 7.4, "date": "2026-01-28", "place": "185 km SSE of Vilyuchinsk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [159.8124, 50.4718]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4nn", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-27", "place": "258 km ESE of Ozernovskiy, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [158.0134, 50.3211]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs4q", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-01-26", "place": "139 km ESE of Severo-Kuril\u2019sk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [160.1363, 51.7668]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rs3j", "magnitude": 5.1, "depth_km": 10, "felt_radius_km": 37.8, "date": "2026-01-26", "place": "175 km SE of Vilyuchinsk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [177.3554, 52.1462]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrjh", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-23", "place": "293 km ESE of Attu Station, Alaska", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [158.5523, 51.7794]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rrbj", "magnitude": 6.2, "depth_km": 52.24, "felt_radius_km": 88.0, "date": "2026-01-22", "place": "128 km S of Vilyuchinsk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [160.877, 52.391]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq9h", "magnitude": 5.3, "depth_km": 23.07, "felt_radius_km": 40.7, "date": "2026-01-17", "place": "169 km ESE of Petropavlovsk-Kamchatsky, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [163.1539, 56.5336]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rq84", "magnitude": 5.2, "depth_km": 35, "felt_radius_km": 24.6, "date": "2026-01-16", "place": "53 km NE of Ust\u2019-Kamchatsk Staryy, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [176.7452, 51.7477]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rptl", "magnitude": 5.9, "depth_km": 41.324, "felt_radius_km": 67.5, "date": "2026-01-15", "place": "271 km ESE of Attu Station, Alaska", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [154.5422, 48.094]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpp8", "magnitude": 5, "depth_km": 35, "felt_radius_km": 7.4, "date": "2026-01-14", "place": "Kuril Islands", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [161.2045, 53.5538]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpnf", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-14", "place": "180 km ENE of Petropavlovsk-Kamchatsky, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [156.4212, 49.0845]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rpaq", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-01-13", "place": "178 km S of Severo-Kuril\u2019sk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [156.102, 49.3211]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rp2k", "magnitude": 5.1, "depth_km": 52.957, "felt_radius_km": 5.0, "date": "2026-01-11", "place": "150 km S of Severo-Kuril\u2019sk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [158.534, 51.6273]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnxj", "magnitude": 5, "depth_km": 57.906, "felt_radius_km": 5.0, "date": "2026-01-10", "place": "141 km E of Ozernovskiy, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [161.0619, 52.8269]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnvf", "magnitude": 5.2, "depth_km": 10, "felt_radius_km": 41.6, "date": "2026-01-10", "place": "165 km E of Petropavlovsk-Kamchatsky, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [161.08, 52.8128]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnuu", "magnitude": 5.3, "depth_km": 13, "felt_radius_km": 44.9, "date": "2026-01-10", "place": "167 km E of Petropavlovsk-Kamchatsky, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [156.1209, 49.2009]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnu0", "magnitude": 5, "depth_km": 67.966, "felt_radius_km": 5.0, "date": "2026-01-10", "place": "163 km S of Severo-Kuril\u2019sk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [156.1887, 49.1314]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnmi", "magnitude": 5, "depth_km": 10, "felt_radius_km": 34.3, "date": "2026-01-09", "place": "171 km S of Severo-Kuril\u2019sk, Russia", "country": "Russia"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [146.726544, -6.567995]}, "properties": {"feature_type": "airport", "name": "Nadzab Tomodachi International Airport", "iata_code": "LAE", "municipality": "Lae", "country": "Papua New Guinea", "iso_alpha3": "PNG", "closest_quake_km": 100, "exposure_score": 9.33, "nearby_quake_count": 2, "country_risk_score": 9.33, "pager_alert": null, "aircraft_movements_k": 10.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[146.726544, -6.567995], [147.5575, -6.215]]}, "properties": {"feature_type": "connection", "airport_iata": "LAE", "earthquake_id": "us6000s692", "distance_km": 99.9, "exposure_contribution": 3.95}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[146.726544, -6.567995], [145.9951, -5.2807]]}, "properties": {"feature_type": "connection", "airport_iata": "LAE", "earthquake_id": "us7000rqrt", "distance_km": 164.4, "exposure_contribution": 5.39}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [150.0844, -5.6004]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s6bp", "magnitude": 5.1, "depth_km": 143.776, "felt_radius_km": 5.0, "date": "2026-02-04", "place": "8 km SW of Kimbe, Papua New Guinea", "country": "Papua New Guinea"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [147.5575, -6.215]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s692", "magnitude": 5.2, "depth_km": 72.189, "felt_radius_km": 5.0, "date": "2026-02-03", "place": "49 km NW of Finschhafen, Papua New Guinea", "country": "Papua New Guinea"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [153.9232, -5.4038]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5bl", "magnitude": 5, "depth_km": 89.096, "felt_radius_km": 5.0, "date": "2026-01-29", "place": "200 km WNW of Panguna, Papua New Guinea", "country": "Papua New Guinea"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [143.5525, -6.4705]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s4jy", "magnitude": 5.6, "depth_km": 19, "felt_radius_km": 57.9, "date": "2026-01-26", "place": "37 km SSW of Mendi, Papua New Guinea", "country": "Papua New Guinea"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [145.9951, -5.2807]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqrt", "magnitude": 5.9, "depth_km": 89.957, "felt_radius_km": 5.0, "date": "2026-01-20", "place": "23 km ESE of Madang, Papua New Guinea", "country": "Papua New Guinea"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [174.804993, -41.327202]}, "properties": {"feature_type": "airport", "name": "Wellington International Airport", "iata_code": "WLG", "municipality": "Wellington", "country": "New Zealand", "iso_alpha3": "NZL", "closest_quake_km": 163, "exposure_score": 1.93, "nearby_quake_count": 1, "country_risk_score": 1.93, "pager_alert": null, "aircraft_movements_k": 50.0}}, {"type": "Feature", "geometry": {"type": "LineString", "coordinates": [[174.804993, -41.327202], [174.6079, -39.872]]}, "properties": {"feature_type": "connection", "airport_iata": "WLG", "earthquake_id": "us7000rnii", "distance_km": 162.7, "exposure_contribution": 1.93}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [165.4903, -46.6443]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us6000s5x6", "magnitude": 5.3, "depth_km": 10, "felt_radius_km": 45.7, "date": "2026-02-02", "place": "196 km W of Riverton, New Zealand", "country": "New Zealand"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [165.2876, -48.247]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rqg6", "magnitude": 5.3, "depth_km": 18.914, "felt_radius_km": 42.8, "date": "2026-01-18", "place": "293 km SW of Bluff, New Zealand", "country": "New Zealand"}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [174.6079, -39.872]}, "properties": {"feature_type": "earthquake", "earthquake_id": "us7000rnii", "magnitude": 5, "depth_km": 122.633, "felt_radius_km": 5.0, "date": "2026-01-08", "place": "16 km SE of Patea, New Zealand", "country": "New Zealand"}}]};

        // Categorize features
        var airports = data.features.filter(
            function(f) {
                return f.properties.feature_type === 'airport';
            }
        );
        var quakes = data.features.filter(
            function(f) {
                return f.properties.feature_type === 'earthquake';
            }
        );
        var connections = data.features.filter(
            function(f) {
                return f.properties.feature_type === 'connection';
            }
        );
        var countries = {};
        airports.forEach(function(f) {
            countries[f.properties.country] = true;
        });

        // Build set of quake IDs that appear in connections
        var connectedQuakeIds = {};
        connections.forEach(function(f) {
            connectedQuakeIds[f.properties.earthquake_id] = true;
        });
        var nearbyQuakes = quakes.filter(function(f) {
            return connectedQuakeIds[f.properties.earthquake_id] === true;
        });

        document.getElementById('country-count').textContent =
            Object.keys(countries).length;
        document.getElementById('airport-count').textContent =
            airports.length;
        document.getElementById('quake-count').textContent =
            quakes.length;

        // Top 5 most exposed airports
        var sorted = airports.slice().sort(function(a, b) {
            return b.properties.exposure_score
                - a.properties.exposure_score;
        });
        var top5 = sorted.slice(0, 5);
        var listEl = document.getElementById('top-airports-list');
        top5.forEach(function(f, i) {
            var p = f.properties;
            var item = document.createElement('div');
            item.className = 'top-airport-item';
            var nm = p.name.length > 22
                ? p.name.substring(0, 22) + '...' : p.name;
            item.innerHTML =
                '<span class="rank">' + (i + 1) + '.</span>'
                + '<span class="iata">' + p.iata_code + '</span>'
                + '<span class="ap-name">' + nm + '</span>'
                + '<span class="score">'
                + p.exposure_score.toFixed(1) + '</span>';
            listEl.appendChild(item);
        });

        // Initialize map
        var map = L.map('map').setView([20, 0], 2);
        L.tileLayer(
            'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            {
                attribution:
                    '&copy; <a href="https://www.openstreetmap.org/'
                    + 'copyright">OSM</a>',
                maxZoom: 18,
            }
        ).addTo(map);

        // Exposure color: green -> yellow -> red
        var maxScore = 1;
        airports.forEach(function(f) {
            if (f.properties.exposure_score > maxScore)
                maxScore = f.properties.exposure_score;
        });

        function exposureColor(score) {
            var t = Math.min(score / maxScore, 1);
            var r, g, b;
            if (t < 0.5) {
                var s = t * 2;
                r = Math.round(40 + (255 - 40) * s);
                g = Math.round(167 + (193 - 167) * s);
                b = Math.round(69 + (7 - 69) * s);
            } else {
                var s2 = (t - 0.5) * 2;
                r = Math.round(255 + (220 - 255) * s2);
                g = Math.round(193 + (53 - 193) * s2);
                b = Math.round(7 + (69 - 7) * s2);
            }
            return 'rgb(' + r + ',' + g + ',' + b + ')';
        }

        // Airport size by movement volume (3 tiers, thousands)
        function airportSize(movementsK) {
            if (movementsK >= 300) return 18;
            if (movementsK >= 100) return 13;
            return 9;
        }

        // Diamond SVG for airport markers
        function airportSVG(color, size) {
            var h = size / 2;
            var pts = h+',0 '+size+','+h+' '+h+','+size+' 0,'+h;
            return '<svg width="' + size + '" height="' + size
                + '"><polygon points="' + pts + '" fill="' + color
                + '" stroke="#333" stroke-width="1.5"'
                + ' fill-opacity="0.85"/></svg>';
        }

        // Connection layer (OFF by default)
        var maxContrib = 1;
        connections.forEach(function(f) {
            if (f.properties.exposure_contribution > maxContrib)
                maxContrib = f.properties.exposure_contribution;
        });

        var connectionLayer = L.geoJSON(
            { type: 'FeatureCollection', features: connections },
            {
                style: function(feature) {
                    var c = feature.properties.exposure_contribution;
                    var op = 0.3 + 0.5 * (c / maxContrib);
                    return {
                        color: '#666',
                        weight: 2,
                        dashArray: '6, 4',
                        opacity: op,
                    };
                },
            }
        );

        // Earthquake color by magnitude (amber -> dark red)
        function quakeColor(mag) {
            var t = Math.min(Math.max((mag - 3) / 5, 0), 1);
            var r = Math.round(251 + (185 - 251) * t);
            var g = Math.round(191 + (28 - 191) * t);
            var b = Math.round(36 + (28 - 36) * t);
            return 'rgb(' + r + ',' + g + ',' + b + ')';
        }
        function quakeOpacity(mag) {
            return 0.25 + 0.45
                * Math.min(Math.max((mag - 3) / 5, 0), 1);
        }

        // Shared earthquake rendering (geographic circles)
        function quakePointToLayer(feature, latlng) {
            var p = feature.properties;
            return L.circle(latlng, {
                radius: p.felt_radius_km * 1000,
                fillColor: quakeColor(p.magnitude),
                color: quakeColor(p.magnitude),
                weight: 1,
                opacity: 0.7,
                fillOpacity: quakeOpacity(p.magnitude),
            });
        }
        function quakePopup(feature, layer) {
            var p = feature.properties;
            layer.bindPopup(
                '<div class="popup-title">'
                + 'M' + p.magnitude + ' Earthquake</div>'
                + '<div class="popup-row">Place: '
                + p.place + '</div>'
                + '<div class="popup-row">Depth: '
                + p.depth_km + ' km</div>'
                + '<div class="popup-row">Felt radius: '
                + p.felt_radius_km + ' km</div>'
                + '<div class="popup-row">Date: '
                + p.date + '</div>'
                + '<div class="popup-row">Country: '
                + p.country + '</div>'
            );
        }

        // Two earthquake layers (both OFF by default, mutually exclusive)
        var nearbyQuakeLayer = L.geoJSON(
            { type: 'FeatureCollection', features: nearbyQuakes },
            { pointToLayer: quakePointToLayer, onEachFeature: quakePopup }
        );
        var allQuakeLayer = L.geoJSON(
            { type: 'FeatureCollection', features: quakes },
            { pointToLayer: quakePointToLayer, onEachFeature: quakePopup }
        );

        // Airport layer (ON by default)
        var airportLayer = L.geoJSON(
            { type: 'FeatureCollection', features: airports },
            {
                pointToLayer: function(feature, latlng) {
                    var p = feature.properties;
                    var color = exposureColor(p.exposure_score);
                    var size = airportSize(p.aircraft_movements_k);
                    var icon = L.divIcon({
                        html: airportSVG(color, size),
                        className: 'airport-marker',
                        iconSize: [size, size],
                        iconAnchor: [size / 2, size / 2],
                        popupAnchor: [0, -size / 2],
                    });
                    return L.marker(latlng, { icon: icon });
                },
                onEachFeature: function(feature, layer) {
                    var p = feature.properties;
                    var movements = p.aircraft_movements_k >= 10
                        ? Math.round(p.aircraft_movements_k)
                            + 'K movements/yr'
                        : 'N/A';
                    layer.bindPopup(
                        '<div class="popup-title">'
                        + p.name + '</div>'
                        + '<div class="popup-row">IATA: '
                        + p.iata_code + '</div>'
                        + '<div class="popup-row">'
                        + p.country
                        + ' (' + p.iso_alpha3 + ')</div>'
                        + '<div class="popup-row">'
                        + 'Aircraft movements: '
                        + movements + '</div>'
                        + '<div class="popup-row">'
                        + 'Exposure score: '
                        + p.exposure_score.toFixed(1) + '</div>'
                        + '<div class="popup-row">Nearby quakes: '
                        + p.nearby_quake_count + '</div>'
                        + '<div class="popup-row">Closest quake: '
                        + p.closest_quake_km + ' km</div>'
                        + '<div class="popup-row">'
                        + 'Country score: '
                        + p.country_risk_score + '</div>'
                    );
                    layer.on('click', function() {
                        justSelected = true;
                        selectAirport(p.iata_code, layer);
                    });
                },
            }
        );

        // Only airports on by default
        airportLayer.addTo(map);

        // Layer control (top-left, expanded)
        L.control.layers(null, {
            'Airports': airportLayer,
            'Quakes near airports': nearbyQuakeLayer,
            'All quakes in region': allQuakeLayer,
            'Connections': connectionLayer,
        }, { position: 'topleft', collapsed: false }).addTo(map);

        // Mutual exclusion for earthquake layers
        function syncLayerCheckbox(targetLayer, checked) {
            var id = L.stamp(targetLayer);
            var container = document.querySelector(
                '.leaflet-control-layers-overlays');
            if (!container) return;
            var inputs = container.querySelectorAll('input');
            inputs.forEach(function(input) {
                if (input.layerId === id) {
                    input.checked = checked;
                }
            });
        }

        map.on('overlayadd', function(e) {
            if (e.name === 'Quakes near airports'
                    && map.hasLayer(allQuakeLayer)) {
                map.removeLayer(allQuakeLayer);
                syncLayerCheckbox(allQuakeLayer, false);
            }
            if (e.name === 'All quakes in region'
                    && map.hasLayer(nearbyQuakeLayer)) {
                map.removeLayer(nearbyQuakeLayer);
                syncLayerCheckbox(nearbyQuakeLayer, false);
            }
        });

        // --- Click-to-highlight ---
        var selectedAirport = null;
        var highlightedConnections = [];
        var highlightedQuakes = [];
        var autoAddedLayers = [];
        var justSelected = false;

        function selectAirport(iata, markerLayer) {
            clearSelection();
            selectedAirport = iata;

            // Highlight the clicked marker
            var el = markerLayer.getElement();
            if (el) el.classList.add('airport-selected');

            // Find matching connections
            connectionLayer.eachLayer(function(layer) {
                if (layer.feature.properties.airport_iata === iata) {
                    highlightedConnections.push(layer);
                    layer.setStyle({
                        color: '#2563eb',
                        weight: 4,
                        dashArray: null,
                        opacity: 0.9,
                    });
                    layer.bringToFront();
                }
            });

            // Collect connected earthquake IDs
            var linkedQuakeIds = {};
            highlightedConnections.forEach(function(layer) {
                linkedQuakeIds[
                    layer.feature.properties.earthquake_id] = true;
            });

            // Auto-add layers if they are OFF
            if (!map.hasLayer(connectionLayer)) {
                map.addLayer(connectionLayer);
                autoAddedLayers.push(connectionLayer);
            }
            if (!map.hasLayer(nearbyQuakeLayer)
                    && !map.hasLayer(allQuakeLayer)) {
                map.addLayer(nearbyQuakeLayer);
                autoAddedLayers.push(nearbyQuakeLayer);
            }

            // Highlight matching earthquakes
            function highlightQuakeLayer(qLayer) {
                qLayer.eachLayer(function(layer) {
                    var qid = layer.feature.properties.earthquake_id;
                    if (linkedQuakeIds[qid]) {
                        layer._origStyle = {
                            radius: layer.getRadius(),
                            fillColor: layer.options.fillColor,
                            color: layer.options.color,
                            weight: layer.options.weight,
                            fillOpacity: layer.options.fillOpacity,
                        };
                        highlightedQuakes.push(layer);
                        layer.setStyle({
                            fillColor: '#ef4444',
                            color: '#dc2626',
                            weight: 2,
                            fillOpacity: 0.7,
                        });
                        layer.setRadius(
                            layer.getRadius() * 1.3);
                        layer.bringToFront();
                    }
                });
            }

            if (map.hasLayer(nearbyQuakeLayer))
                highlightQuakeLayer(nearbyQuakeLayer);
            if (map.hasLayer(allQuakeLayer))
                highlightQuakeLayer(allQuakeLayer);
        }

        function clearSelection() {
            if (!selectedAirport) return;

            // Remove airport highlight
            airportLayer.eachLayer(function(layer) {
                var el = layer.getElement();
                if (el) el.classList.remove('airport-selected');
            });

            // Reset connection styles
            highlightedConnections.forEach(function(layer) {
                connectionLayer.resetStyle(layer);
            });
            highlightedConnections = [];

            // Reset quake styles
            highlightedQuakes.forEach(function(layer) {
                if (layer._origStyle) {
                    layer.setStyle({
                        fillColor: layer._origStyle.fillColor,
                        color: layer._origStyle.color,
                        weight: layer._origStyle.weight,
                        fillOpacity: layer._origStyle.fillOpacity,
                    });
                    layer.setRadius(layer._origStyle.radius);
                }
            });
            highlightedQuakes = [];

            // Remove auto-added layers
            autoAddedLayers.forEach(function(layer) {
                map.removeLayer(layer);
            });
            autoAddedLayers = [];

            selectedAirport = null;
        }

        map.on('click', function() {
            if (justSelected) {
                justSelected = false;
                return;
            }
            clearSelection();
        });
    </script>
</body>
</html>